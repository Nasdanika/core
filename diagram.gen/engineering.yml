engineering-module:
  name: Diagram Generation
  path: diagram-gen
  dependencies:
    - engineering://nasdanika/modules/core/modules/diagram
    - engineering://nasdanika/modules/core/modules/mxgraph
    - engineering://nasdanika/modules/core/modules/exec
  issues:
    - path: plant-uml-layout
      name: Use PlantUML to layout
      description: |+2
        Generate PlantUML diagram, parse image map and use to position and size diagram element rectangles, if parsing is successful.
        After that apply sizes from styles and if there were sizes from styles and they were larger than PlantUML sizes then layout so there is no overlap.
        Use the existing algorithm to move overlapping resized rectangle from the center of union of all rectangles. Pass initial delta between the center points of the union
        rectangle and the rectangle to be positioned to the generator factory - it will define initial radius and angle. An advanced implementation may be some kind of of a force
        algorithm where positioning iteration goes over an increase from the force equilibrium - offset generator may compute a certain amount of positions (e.g. 1000 or 10000), compute 
        force for each point, sort them and then return in the order of increasing energy - difference from the equilibrium where the force is zero.          
    - path: drawio-diagram-processing
      name: Processing of Drawio diagrams
      description: |+2
        For existing diagrams - loading, building a graph, passing it to a method which returns a graph - the same or a different.
        If returned graph is not null then its model gets encoded. Optionally replace the original file with the processed one if file URI.
        Default implementation iterates over all cells and passes them to a cell processing/filtering method. 
        The cell processing method shall return boolean to indicate that the cell was changed.
        The graph processing method shall return the same graph if any of the cells were modified or null.        
        URI processing - if a cell has uri attribute - resolve, set relative links. If there is style - merge. 
        Element style overrides uri style entries. Size - boolean property to indicate that cell shall be resized if element at the URI specifies size.
        This approach would allow to create manual diagrams referencing existing model elements and have a consistent appearance of diagram elements across
        multiple diagrams. Also element look will be automatically updated on all diagrams if it changes. 
           
     
   
